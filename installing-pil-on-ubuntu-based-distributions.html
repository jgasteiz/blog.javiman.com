<!DOCTYPE html>
<html lang="en">
<head>

    <title>Installing PIL on Ubuntu based distributions</title>
    <meta charset="utf-8" />
    

    <!-- Mobile viewport optimized: j.mp/bplateviewport -->
    <meta name="viewport" content="width=device-width,initial-scale=1, maximum-scale=1">

    <link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

    <link rel="stylesheet" type="text/css" href="/theme/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/theme/main.css" />

    <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-44413405-5', 'auto');
        ga('send', 'pageview');
    </script>

</head>

<body class="home">


    <div role="main">

        <header id="banner" class="body">
            <h1 class="site-name">
                <a href="/">
                    Fuzzing the Web
                </a>
            </h1>
            <h2 class="site-subtitle">Javi Manzano's blog</h2>
        </header><!-- /#banner -->

        <div id="navigation" class="navbar row">
        <a href="#" gumby-trigger="#navigation &gt; ul" class="toggle"><i class="icon-menu"></i></a>

        <ul class="main-menu">
            <li><a href="/">Blog</a></li>

                <li><a href="/archives.html">Archives</a></li>
                <li><a href="http://www.javiman.com">About</a></li>
            
            </ul>
        </div>

<section id="content" class="body">
    <header>
        <h2 class="entry-title">Installing PIL on Ubuntu based distributions</h2>
    </header>
    <footer class="post-info">
        <abbr
            class="published"
            title="2013-09-26T21:09:00+01:00"
            >
            Thu 26 September 2013
        </abbr>
    </footer><!-- /.post-info -->

    <div class="entry-content"><p>Today I've been trying to run <a href="https://npmjs.org/package/grunt-glue">grunt-glue</a> in my Elementary OS and after trying to understand why it wasn't running, I realised the JPEG/ZLIB support weren't working.</p>
<p>It usually happens when you install PIL via pip. To fix the issue, do the following:</p>
<p>Uninstall PIL from your virtualenv - please, use <a href="https://pypi.python.org/pypi/virtualenv">virtualenv</a>.</p>
<div class="highlight"><pre>pip uninstall PIL
</pre></div>


<p>Install PIL dependencies - and python-dev, if you don't have it installed.</p>
<div class="highlight"><pre>sudo apt-get build-dep python-imaging
sudo apt-get install python-dev
</pre></div>


<p>Create a few symbolic links and install PIL again. When you install PIL, do it with a -U argument to see some output of the installation. I've noticed the sources for 32bit installations would change to <em>i386-linux-gnu</em> instead of <em>x86_64linux-gnu</em>.</p>
<div class="highlight"><pre>sudo ln -s /usr/lib/x86_64-linux-gnu/libjpeg.so /usr/lib
sudo ln -s /usr/lib/x86_64-linux-gnu/libfreetype.so /usr/lib
sudo ln -s /usr/lib/x86_64-linux-gnu/libz.so /usr/lib

pip install -U PIL
</pre></div>


<p>If everything went fine, you shoould see something like this if you scroll up a bit:</p>
<div class="highlight"><pre>PIL 1.1.7 SETUP SUMMARY
version       1.1.7
platform      linux2 2.7.3 (default, Apr 10 2013, 06:20:15)
              [GCC 4.6.3]
*** TKINTER support not available
*** LITTLECMS support not available
</pre></div>


<p>Another option, instead of creating those links manually, would be installing PIL in the machine python installation.</p>
<div class="highlight"><pre>sudo apt-get install python-imaging
</pre></div>


<p>And another option, although not what you were looking for, would be installing Pillow - which is a better PIL, basically.</p>
<div class="highlight"><pre>pip install Pillow
</pre></div>


<p>After any of these 3 options you should be able to use the python imaging library happily now.</p>
<p>PS: Thanks everyone for the corrections and suggestions for this post ;)</p></div><!-- /.entry-content -->
    
</section>

    </div><!-- /.container -->


    <footer class="main-footer">
        <p>Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.</p>

        Me, elsewhere:
        <ul class="social-links">
                <li><a href="https://github.com/jgasteiz/" target="_blank">Github</a></li>
                <li><a href="https://twitter.com/_javiman" target="_blank">Twitter</a></li>
        </ul>
    </footer>

</body>
</html>